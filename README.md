# C√†i ƒë·∫∑t

T·∫°o `.env` t·ª´ `.env.example` cho c·∫£ frontend v√† backend

M·ªü v·ªõi Git Bash

```bash
./install_package_local.sh
```

# H·ªá Th·ªëng ƒê·∫∑t L·ªãch Salon

## M√¥ t·∫£ d·ª± √°n

H·ªá th·ªëng ƒë·∫∑t l·ªãch salon l√† m·ªôt gi·∫£i ph√°p to√†n di·ªán cho ph√©p kh√°ch h√†ng ƒë·∫∑t l·ªãch h·∫πn v·ªõi c√°c salon l√†m ƒë·∫πp (c·∫Øt t√≥c, l√†m m√≥ng, chƒÉm s√≥c da, v.v.) m·ªôt c√°ch d·ªÖ d√†ng v√† hi·ªáu qu·∫£. H·ªá th·ªëng h·ªó tr·ª£ qu·∫£n l√Ω l·ªãch h·∫πn, ki·ªÉm tra th·ªùi gian tr·ªëng c·ªßa nh√¢n vi√™n ho·∫∑c salon, g·ª≠i th√¥ng b√°o, v√† cung c·∫•p c√°c c√¥ng c·ª• qu·∫£n l√Ω cho ch·ªß salon.

---

# üß© T√≠nh NƒÉng Ch√≠nh

## 1. üë§ ƒêƒÉng K√Ω & ƒêƒÉng Nh·∫≠p Ng∆∞·ªùi D√πng

### Lo·∫°i t√†i kho·∫£n h·ªó tr·ª£

- **Kh√°ch h√†ng**
- **Nh√¢n vi√™n salon**
- **Qu·∫£n l√Ω salon**

### Ph∆∞∆°ng th·ª©c ƒëƒÉng nh·∫≠p

- Email & m·∫≠t kh·∫©u
- OAuth (Google, Facebook)

### Ph√¢n quy·ªÅn ng∆∞·ªùi d√πng

- **Kh√°ch h√†ng**

  - ƒê·∫∑t v√† h·ªßy l·ªãch h·∫πn
  - Xem l·ªãch s·ª≠ c√°c l·∫ßn ƒë·∫∑t h·∫πn

- **Nh√¢n vi√™n salon**

  - Xem l·ªãch l√†m vi·ªác c·ªßa m√¨nh
  - Qu·∫£n l√Ω th·ªùi gian c√≥ th·ªÉ ph·ª•c v·ª• kh√°ch

- **Qu·∫£n l√Ω salon**
  - Qu·∫£n l√Ω to√†n b·ªô l·ªãch h·∫πn
  - Qu·∫£n l√Ω nh√¢n vi√™n v√† danh s√°ch d·ªãch v·ª•

---

## 2. üìÜ Qu·∫£n L√Ω L·ªãch H·∫πn (CRUD)

### T·∫°o l·ªãch h·∫πn

- Ch·ªçn d·ªãch v·ª•, nh√¢n vi√™n th·ª±c hi·ªán v√† th·ªùi gian

### Xem l·ªãch h·∫πn

- L·ªçc theo ng√†y, gi·ªù, nh√¢n vi√™n ho·∫∑c kh√°ch h√†ng

### C·∫≠p nh·∫≠t l·ªãch h·∫πn

- Thay ƒë·ªïi th·ªùi gian, d·ªãch v·ª• ho·∫∑c ng∆∞·ªùi ph·ª•c v·ª•

### H·ªßy l·ªãch h·∫πn

- G·ª≠i th√¥ng b√°o cho c·∫£ nh√¢n vi√™n v√† kh√°ch h√†ng

---

## 3. üïê Ki·ªÉm Tra L·ªãch Tr·ªëng

- T·ª± ƒë·ªông ki·ªÉm tra th·ªùi gian r·∫£nh c·ªßa nh√¢n vi√™n d·ª±a tr√™n b·∫£ng `ProviderAvailability`
- NgƒÉn ch·∫∑n tr√πng l·ªãch ho·∫∑c xung ƒë·ªôt th·ªùi gian theo th·ªùi gian th·ª±c

---

## 4. ‚úÇÔ∏è Qu·∫£n L√Ω D·ªãch V·ª•

### Ch·ªß salon c√≥ th·ªÉ

- Th√™m m·ªõi d·ªãch v·ª• (v√≠ d·ª•: c·∫Øt t√≥c, l√†m m√≥ng)
- C·∫≠p nh·∫≠t ho·∫∑c x√≥a d·ªãch v·ª•

### M·ªói d·ªãch v·ª• bao g·ªìm

- T√™n d·ªãch v·ª•
- M√¥ t·∫£
- Th·ªùi l∆∞·ª£ng (ph√∫t)
- Gi√° c·∫£

---

## 5. üîî G·ª≠i Th√¥ng B√°o

- **Khi ƒë·∫∑t l·ªãch th√†nh c√¥ng**: G·ª≠i x√°c nh·∫≠n qua email ho·∫∑c th√¥ng b√°o ƒë·∫©y
- **Nh·∫Øc l·ªãch h·∫πn (tr∆∞·ªõc 24h)**: G·ª≠i nh·∫Øc nh·ªü qua email ho·∫∑c SMS
- **Khi thay ƒë·ªïi/h·ªßy h·∫πn**: G·ª≠i th√¥ng b√°o ƒë·∫øn c·∫£ kh√°ch h√†ng v√† nh√¢n vi√™n

---

## C√¥ng ngh·ªá

- **Backend**: NestJS (Node.js framework)
- **Database**: MYSQL
- **X√°c th·ª±c**: JWT ho·∫∑c OAuth2
- **Email Service**: Nodemailer ho·∫∑c SendGrid
- **Th√¥ng b√°o ƒë·∫©y** _(tu·ª≥ ch·ªçn)_: Firebase Cloud Messaging (FCM)
- **Cron Job**: `@nestjs/schedule`
- **Frontend**: React

---

## K·ªπ nƒÉng h·ªçc ƒë∆∞·ª£c

- X·ª≠ l√Ω logic th·ªùi gian (xung ƒë·ªôt l·ªãch, th·ªùi gian tr·ªëng, m√∫i gi·ªù)
- T√≠ch h·ª£p email/th√¥ng b√°o ƒë·∫©y t·ª± ƒë·ªông
- T·ª± ƒë·ªông h√≥a b·∫±ng Cron Job
- Ph√¢n quy·ªÅn b·∫±ng Custom Decorator trong NestJS
- Thi·∫øt k·∫ø database t·ªëi ∆∞u

---

## C·∫•u tr√∫c c∆° s·ªü d·ªØ li·ªáu

### B·∫£ng `User`

- **Th√¥ng tin**: id, username, email, password, full_name, phone_number, role, refreshToken, refreshTokenExpiry, created_at, updated_at
- **Quan h·ªá**:
  - 1 User ‚Üí N ServiceProvider
  - 1 User ‚Üí N Appointment
  - 1 User ‚Üí N Notification

### B·∫£ng `ServiceProvider`

- **Th√¥ng tin**: id, user_id, business_name, address, description
- **Quan h·ªá**:
  - 1 ServiceProvider ‚Üí N Service
  - 1 ServiceProvider ‚Üí N Appointment
  - 1 ServiceProvider ‚Üí N ProviderAvailability

### B·∫£ng `Service`

- **Th√¥ng tin**: id, provider_id, name, description, duration_minutes, price
- **Quan h·ªá**:
  - 1 Service ‚Üí N Appointment

### B·∫£ng `ProviderAvailability`

- **Th√¥ng tin**: id, provider_id, day_of_week, start_time, end_time

### B·∫£ng `Appointment`

- **Th√¥ng tin**: id, customer_id, service_id, provider_id, start_time, end_time, status, notes, created_at, updated_at
- **Quan h·ªá**:
  - 1 Appointment ‚Üí N Notification

### B·∫£ng `Notification`

- **Th√¥ng tin**: id, appointment_id, user_id, type, sent_at, status, message

---

## ƒê·ªÅ xu·∫•t m·ªü r·ªông

### 1. Thanh to√°n tr·ª±c tuy·∫øn

- T√≠ch h·ª£p VNPay ho·∫∑c MoMo
- H·ªó tr·ª£ ho√†n ti·ªÅn khi h·ªßy l·ªãch h·∫πn

### 2. ƒê·ªìng b·ªô l·ªãch

- T√≠ch h·ª£p Google Calendar
- Cho ph√©p ng∆∞·ªùi d√πng xem l·ªãch h·∫πn tr√™n ·ª©ng d·ª•ng l·ªãch c√° nh√¢n

### 3. Ch∆∞∆°ng tr√¨nh kh√°ch h√†ng th√¢n thi·∫øt

- Th√™m b·∫£ng `LoyaltyProgram` ƒë·ªÉ theo d√µi ƒëi·ªÉm th∆∞·ªüng
- Cung c·∫•p ∆∞u ƒë√£i/gi·∫£m gi√° cho kh√°ch h√†ng th∆∞·ªùng xuy√™n

### 4. Ph√¢n t√≠ch d·ªØ li·ªáu

- X√¢y d·ª±ng Dashboard qu·∫£n l√Ω
- Theo d√µi l·ªãch h·∫πn, doanh thu, hi·ªáu su·∫•t nh√¢n vi√™n

---

## Ki·∫øn tr√∫c h·ªá th·ªëng

```plaintext
Client (Browser / Mobile App)
  ‚Üì‚Üë (REST API)
Backend (NestJS)
  ‚Üì‚Üë (Database Queries)
Database (MYSQL)
  ‚Üì‚Üë (Email / Push Notification)
Notification Service (Nodemailer / SendGrid)
  ‚Üì‚Üë (Cron Job)
Scheduler (@nestjs/schedule)
```
